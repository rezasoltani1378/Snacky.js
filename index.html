<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Optimal meta tag for responsiveness -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snacky.js | Professional Snackbar Library</title>
    <style>
        /* --- Demo Page Styles (Not part of the library) --- */
        :root {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --secondary-text: #888;
            --surface-color: #1e1e1e;
            --border-color: #333;
            --accent-color: #007aff;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 3rem 1.5rem;
            line-height: 1.6;
        }
        .container { max-width: 900px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 3rem; }
        h1 { font-size: 3rem; font-weight: 800; margin: 0; }
        h1 span { color: var(--accent-color); }
        .subtitle { font-size: 1.2rem; color: var(--secondary-text); }
        .creator { margin-top: 0.5rem; color: #666; }
        h2 { font-size: 1.8rem; border-bottom: 2px solid var(--border-color); padding-bottom: 0.5rem; margin: 2.5rem 0 1.5rem 0; }
        section { background: var(--surface-color); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; }
        pre { background: #111; border: 1px solid var(--border-color); border-radius: 8px; padding: 1rem; white-space: pre-wrap; word-wrap: break-word; font-size: 0.9rem; }
        code { font-family: 'SF Mono', 'Menlo', 'Consolas', monospace; }
        .control-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem; }
        button {
            background-color: #2a2a2a; color: #f0f0f0; padding: 10px 15px; border: 1px solid #444; border-radius: 8px;
            cursor: pointer; font-size: 0.9rem; font-weight: 500; transition: all 0.2s ease; -webkit-tap-highlight-color: transparent;
        }
        button:hover { background-color: #3a3a3a; border-color: #666; transform: translateY(-2px); }
        button:active { transform: translateY(0) scale(0.98); }
        table { width: 100%; border-collapse: collapse; margin-top: 1.5rem; }
        th, td { padding: 0.8rem 1rem; text-align: left; border-bottom: 1px solid var(--border-color); }
        th { font-weight: 600; color: var(--secondary-text); }
        td code { background: #333; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.85rem; }
        /* Fix for responsive table */
        .table-wrapper { overflow-x: auto; }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1><span>snacky</span>.js</h1>
            <p class="subtitle">A professional, zero-dependency, and highly customizable snackbar library.</p>
            <p class="creator">Created by Mohammadreza Soltani</p>
        </header>

        <section>
            <h2>How to Use</h2>
            <p>Using snacky.js is incredibly simple. Just include the script in your HTML file, and you can call it from anywhere.</p>
            <pre><code>&lt;!-- 1. Include the script anywhere in your body --&gt;
&lt;script src="snacky.js"&gt;&lt;/script&gt;
&lt;!-- Or just paste the script block directly --&gt;

&lt;!-- 2. Call it from your JavaScript --&gt;
&lt;script&gt;
  snacky.show("Your profile has been updated!", {
    type: 'success',
    position: 'bottomRight',
    duration: 5000,
    progressBar: 'show'
  });
&lt;/script&gt;</code></pre>
        </section>

        <section>
            <h2>Interactive Demo</h2>
            <h3>Notification Types</h3>
            <div class="control-grid">
                <button onclick="demo('success')">Success</button>
                <button onclick="demo('error')">Error</button>
                <button onclick="demo('warning')">Warning</button>
                <button onclick="demo('info')">Info</button>
                <button onclick="demo('cart')">Cart</button>
                <button onclick="demo('wishlist')">Wishlist</button>
                <button onclick="demo('favorite')">Favorite</button>
                <button onclick="demo('saved')">Saved</button>
                <button onclick="demo('download')">Download</button>
                <button onclick="demo('online')">Online</button>
                <button onclick="demo('offline')">Offline</button>
                <button onclick="demo('loading')">Loading</button>
            </div>
            <h3 style="margin-top: 2rem;">Features & Positions</h3>
             <div class="control-grid">
                <button onclick="demo('feature_progress')">Progress Bar</button>
                <button onclick="demo('feature_noHide')">No Auto-Hide</button>
                <button onclick="demo('feature_sound')">Sound Effect</button>
                <button onclick="demo('feature_vibrate')">Vibrate</button>
                <button onclick="demo('feature_highlight')">Word Highlight</button>
                <button onclick="demo('feature_rtl')">RTL Language</button>
                <button onclick="demo('pos_topCenter')">Top Center</button>
                <button onclick="demo('pos_bottomLeft')">Bottom Left</button>
            </div>
        </section>

        <section>
            <h2>API Reference</h2>
            <p>Customize every aspect of your notifications with these options.</p>
            <!-- Wrapper div for responsiveness -->
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr><th>Option</th><th>Type</th><th>Description</th><th>Default</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>direction</code></td><td><code>'ltr' | 'rtl'</code></td><td>Sets the text and layout direction.</td><td><code>'ltr'</code></td></tr>
                        <tr><td><code>type</code></td><td><code>string</code></td><td>Determines the icon and color. 12 types available.</td><td><code>'info'</code></td></tr>
                        <tr><td><code>position</code></td><td><code>string</code></td><td>Where the snackbar appears on desktop screens.</td><td><code>'bottomRight'</code></td></tr>
                        <tr><td><code>icon</code></td><td><code>'show' | 'hidden'</code></td><td>Shows or hides the icon.</td><td><code>'show'</code></td></tr>
                        <tr><td><code>progressBar</code></td><td><code>'show' | 'hidden'</code></td><td>Shows or hides the duration progress bar.</td><td><code>'hidden'</code></td></tr>
                        <tr><td><code>autoHide</code></td><td><code>boolean</code></td><td>If false, the snackbar stays until manually dismissed.</td><td><code>true</code></td></tr>
                        <tr><td><code>duration</code></td><td><code>number</code></td><td>Time in milliseconds before auto-hiding.</td><td><code>4000</code></td></tr>
                        <tr><td><code>wordHighlight</code></td><td><code>string | string[]</code></td><td>A word or array of words to make bold.</td><td><code>null</code></td></tr>
                        <tr><td><code>soundEffect</code></td><td><code>boolean</code></td><td>Plays a subtle sound on notification show.</td><td><code>false</code></td></tr>
                        <tr><td><code>vibrate</code></td><td><code>boolean</code></td><td>Vibrates the device (on supported platforms).</td><td><code>false</code></td></tr>
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- The snacky.js Library -->
    <script>
  /**
 * snacky.js | A professional, zero-dependency snackbar library.
 * Version: 1.0.0
 * Created by: Mohammadreza Soltani
 */
const snacky = ( () => {
    let isInitialized = false;
    const containerStore = {};
    const defaultConfig = {
        direction: 'ltr',
        type: 'info',
        position: 'bottomRight',
        icon: 'show',
        progressBar: 'hidden',
        autoHide: true,
        duration: 4000,
        wordHighlight: null,
        soundEffect: false,
        vibrate: false,
    };
    const MAX_SNACKBARS = 5;
    const ICONS = {
        info: `<svg viewBox="0 0 24 24"><path class="snacky-icon-path snacky-icon-circle" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/><path class="snacky-icon-path snacky-icon-dot" d="M12 8h.01"/><path class="snacky-icon-path snacky-icon-line" d="M12 11v5"/></svg>`,
        warning: `<svg viewBox="0 0 24 24"><path class="snacky-icon-path snacky-icon-triangle" d="M1 21h22L12 2 1 21z"/><path class="snacky-icon-path snacky-icon-dot" d="M12 18h.01"/><path class="snacky-icon-path snacky-icon-line" d="M12 9v6"/></svg>`,
        success: `<svg viewBox="0 0 24 24"><path class="snacky-icon-path snacky-icon-circle" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/><path class="snacky-icon-path snacky-icon-checkmark" d="m9 12 2 2 4-4"/></svg>`,
        error: `<svg viewBox="0 0 24 24"><path class="snacky-icon-path snacky-icon-circle" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/><path class="snacky-icon-path snacky-icon-cross-1" d="m15 9-6 6"/><path class="snacky-icon-path snacky-icon-cross-2" d="m9 9 6 6"/></svg>`,
        cart: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.21 9l-4.38-6.56a1 1 0 0 0-1.66 0L6.79 9H2a1 1 0 0 0 0 2h2.33l2.43 10.39a1 1 0 0 0 1 .61h9.48a1 1 0 0 0 1-.61L19.67 11H22a1 1 0 0 0 0-2h-4.79zm-4.64 0L12 7.74 11.43 9H7.93l2.12 9h3.9l2.12-9h-3.5z"/></svg>`,
        online: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="m21.48 11.13-9-9a.5.5 0 0 0-.7 0l-9 9a.5.5 0 0 0 .35.87H5v7a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-7h2.15a.5.5 0 0 0 .35-.87zM14 18h-4v-5h4v5z"/></svg>`,
        offline: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.3 4.7a1 1 0 0 0-1.4 0L12 10.59 6.1 4.7a1 1 0 0 0-1.4 1.4L10.59 12l-5.9 5.9a1 1 0 1 0 1.4 1.4L12 13.41l5.9 5.9a1 1 0 0 0 1.4-1.4L13.41 12l5.9-5.9a1 1 0 0 0 0-1.4z"/></svg>`,
        wishlist: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`,
        favorite: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>`,
        saved: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/></svg>`,
        download: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13v4h-2v-4H8l4-4 4 4h-3z"/></svg>`,
        loading: `<svg class="snacky-spinner" viewBox="0 0 50 50"><circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="4"></circle></svg>`
    };
    function playNotif() {
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    
    osc.connect(gain);
    gain.connect(ctx.destination);
    
    osc.frequency.value = 800;
    osc.type = 'sine';
    
    gain.gain.setValueAtTime(0.3, ctx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.2);
    
    osc.start(ctx.currentTime);
    osc.stop(ctx.currentTime + 0.2);
}

    const _injectCSS = () => {
        const style = document.createElement('style');
        style.id = 'snacky-library-styles';
        style.textContent = `
                .snacky-container{position:fixed;z-index:9999;display:flex;flex-direction:column;pointer-events:none;gap:12px}
                .snacky-container.top-left{top:20px;left:20px;align-items:flex-start}
                .snacky-container.top-center{top:20px;left:50%;transform:translateX(-50%);align-items:center}
                .snacky-container.top-right{top:20px;right:20px;align-items:flex-end}
                .snacky-container.bottom-left{bottom:20px;left:20px;align-items:flex-start}
                .snacky-container.bottom-center{bottom:20px;left:50%;transform:translateX(-50%);align-items:center}
                .snacky-container.bottom-right{bottom:20px;right:20px;align-items:flex-end}
                .snacky-item{display:flex;background:rgba(30,30,30,0.9);color:#f5f5f5;padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.25);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);min-width:320px;max-width:440px;pointer-events:auto;opacity:0;position:relative;overflow:hidden}
                .snacky-item.show{animation:snacky-in .4s cubic-bezier(.21,1.02,.73,1) forwards}
                .snacky-item.hide{animation:snacky-out .4s cubic-bezier(.25,.46,.45,.94) forwards}
                .snacky-item[data-direction="rtl"]{flex-direction:row-reverse}
                .snacky-content{display:flex;align-items:center;overflow:hidden;width:100%}
                .snacky-icon{flex-shrink:0;width:24px;height:24px;margin-right:12px}
                .snacky-item[data-direction="rtl"] .snacky-icon{margin-right:0;margin-left:12px}
                .snacky-icon svg{width:100%;height:100%}
                .snacky-icon .snacky-icon-path{fill:none;stroke:currentColor;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
                .snacky-item.info .snacky-icon{color:#58a6ff}.snacky-item.warning .snacky-icon{color:#e3b341}.snacky-item.success .snacky-icon{color:#56d364}.snacky-item.error .snacky-icon{color:#f85149}.snacky-item.cart .snacky-icon{color:#a371f7}.snacky-item.online .snacky-icon{color:#56d364}.snacky-item.offline .snacky-icon{color:#a0a0a0}.snacky-item.wishlist .snacky-icon{color:#db61a2}.snacky-item.favorite .snacky-icon{color:#f0d553}.snacky-item.saved .snacky-icon{color:#58a6ff}.snacky-item.download .snacky-icon{color:#58a6ff}.snacky-item.loading .snacky-icon{color:#a0a0a0}
                .snacky-message{font-weight:500;font-size:.95rem;line-height:1.4;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;min-width:0;-webkit-mask-image:linear-gradient(to right,black 90%,transparent 100%);mask-image:linear-gradient(to right,black 90%,transparent 100%)}
                .snacky-item[data-direction="rtl"] .snacky-message{-webkit-mask-image:linear-gradient(to left,black 90%,transparent 100%);mask-image:linear-gradient(to left,black 90%,transparent 100%);text-align:right}
                .snacky-message strong{font-weight:700;color:#fff}
                .snacky-progress-bar{position:absolute;bottom:0;left:0;height:4px;width:100%;background:rgba(255,255,255,0.15);animation:snacky-progress linear forwards;overflow:hidden}
                .snacky-progress-bar::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);animation:snacky-shine 1.5s infinite}
                .snacky-icon-circle,.snacky-icon-triangle{stroke-dasharray:60;stroke-dashoffset:60}.snacky-icon-checkmark{stroke-dasharray:10;stroke-dashoffset:10}.snacky-icon-cross-1,.snacky-icon-cross-2{stroke-dasharray:10;stroke-dashoffset:10}.snacky-icon-dot{fill-opacity:0}.snacky-icon-line{stroke-dasharray:10;stroke-dashoffset:10}
                .snacky-item.show .snacky-icon-circle,.snacky-item.show .snacky-icon-triangle{animation:snacky-draw .4s .2s ease-out forwards}
                .snacky-item.show.success .snacky-icon-checkmark{animation:snacky-draw .3s .5s ease-out forwards}
                .snacky-item.show.error .snacky-icon-cross-1{animation:snacky-draw .2s .5s ease-out forwards}
                .snacky-item.show.error .snacky-icon-cross-2{animation:snacky-draw .2s .6s ease-out forwards}
                .snacky-item.show .snacky-icon-line{animation:snacky-draw .2s .5s ease-out forwards}
                .snacky-item.show .snacky-icon-dot{animation:snacky-pop-in .2s .4s ease-out forwards}
                @keyframes snacky-draw{to{stroke-dashoffset:0}}
                @keyframes snacky-pop-in{to{fill-opacity:1}}
                @keyframes snacky-in{from{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}
                @keyframes snacky-out{from{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(20px) scale(.95)}}
                @keyframes snacky-progress{from{width:100%}to{width:0%}}
                @keyframes snacky-shine{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
                @keyframes snacky-rotate{100%{transform:rotate(360deg)}}
                @keyframes snacky-dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}
                .snacky-spinner{animation:snacky-rotate 2s linear infinite}.snacky-spinner .path{stroke:currentColor;stroke-linecap:round;animation:snacky-dash 1.5s ease-in-out infinite}
                @media(max-width:768px){.snacky-container{left:10px!important;right:10px!important;width:auto!important;transform:none!important;align-items:stretch!important}.snacky-container[class*="top-"]{top:10px!important;bottom:auto!important}.snacky-container[class*="bottom-"]{bottom:10px!important;top:auto!important}.snacky-item{width:100%!important;min-width:unset!important;box-sizing:border-box!important}}
            `;
        document.head.appendChild(style);
    }
    ;
    const _createContainer = (position) => {
        if (containerStore[position])
            return containerStore[position];
        const container = document.createElement('div');
        container.className = `snacky-container ${position.replace(/([A-Z])/g, '-$1').toLowerCase()}`;
        document.body.appendChild(container);
        containerStore[position] = container;
        return container;
    }
    ;
    const _hideAndRemove = (snackbar) => {
        snackbar.classList.add('hide');
        snackbar.addEventListener('animationend', (e) => {
            if (e.animationName !== 'snacky-out')
                return;
            const container = snackbar.parentElement;
            snackbar.remove();
            if (container && container.childElementCount === 0) {
                container.remove();
                for (const pos in containerStore) {
                    if (containerStore[pos] === container)
                        delete containerStore[pos];
                }
            }
        }
        , {
            once: true
        });
    }
    ;
    const _init = () => {
        if (isInitialized)
            return;
        _injectCSS();
        isInitialized = true;
    }
    ;
    const show = (message, options={}) => {
        _init();
        const settings = {
            ...defaultConfig,
            ...options
        };
        const container = _createContainer(settings.position);
        if (container.childElementCount >= MAX_SNACKBARS) {
            const snackbarToRemove = settings.position.startsWith('top') ? container.lastElementChild : container.firstElementChild;
            _hideAndRemove(snackbarToRemove);
        }
        const snackbar = document.createElement('div');
        snackbar.className = `snacky-item ${settings.type}`;
        snackbar.setAttribute('data-direction', settings.direction);
        let content = `<div class="snacky-content">`;
        if (settings.icon === 'show') {
            content += `<div class="snacky-icon">${ICONS[settings.type] || ICONS.info}</div>`;
        }
        const messageDiv = document.createElement('div');
        messageDiv.className = 'snacky-message';
        if (settings.wordHighlight) {
            const highlightWords = Array.isArray(settings.wordHighlight) ? settings.wordHighlight : [settings.wordHighlight];
            const regex = new RegExp(`(${highlightWords.join('|').replace(/[.*+?^${}()|[\]\\]/g, '\\$&')})`,'gi');
            messageDiv.innerHTML = message.replace(regex, '<strong>$1</strong>');
        } else {
            messageDiv.textContent = message;
        }
        content += messageDiv.outerHTML + `</div>`;
        if (settings.progressBar === 'show' && settings.autoHide) {
            content += `<div class="snacky-progress-bar" style="animation-duration: ${settings.duration}ms;"></div>`;
        }
        snackbar.innerHTML = content;
        if (settings.position.startsWith('top')) {
            container.prepend(snackbar);
        } else {
            container.appendChild(snackbar);
        }
        if (settings.soundEffect){
          playNotif();
            }
        if (settings.vibrate && 'vibrate'in navigator)
            navigator.vibrate(100);
        requestAnimationFrame( () => snackbar.classList.add('show'));
        if (settings.autoHide) {
            setTimeout( () => _hideAndRemove(snackbar), settings.duration);
        }
    }
    ;
    return {
        show
    };
}
)();

    // --- Demo Functions ---
    const demoMessages = {
        success: "Success! Your changes were saved.",
        error: "Error! Could not connect to the server.",
        warning: "Warning: Your session is about to expire.",
        info: "Heads up! A new software update is available.",
        cart: "Added to Cart: The new Vision Pro.",
        wishlist: "Added to your Wishlist.",
        favorite: "Marked as a Favorite!",
        saved: "Your document has been saved.",
        download: "Download started...",
        online: "You are back online.",
        offline: "Connection lost. You are now offline.",
        loading: "Processing your request..."
    };
    function demo(type) {
        switch(type) {
            case 'feature_progress': snacky.show("This snackbar has a progress bar.", { type: 'download', progressBar: 'show', duration: 6000 }); break;
            case 'feature_noHide': snacky.show("This one won't auto-hide. It needs a close button (not implemented in this demo).", { type: 'offline', autoHide: false }); break;
            case 'feature_sound': snacky.show("This one has a sound effect.", { type: 'success', soundEffect: true }); break;
            case 'feature_vibrate': snacky.show("This one vibrates (on mobile).", { type: 'warning', vibrate: true }); break;
            case 'feature_highlight': snacky.show("Your order #S12345 has been confirmed.", { type: 'cart', wordHighlight: '#S12345' }); break;
            case 'feature_rtl': snacky.show("این یک پیام راست به چپ است.", { type: 'saved', direction: 'rtl' }); break;
            case 'pos_topCenter': snacky.show("Position: Top Center", { type: 'info', position: 'topCenter' }); break;
            case 'pos_bottomLeft': snacky.show("Position: Bottom Left", { type: 'info', position: 'bottomLeft' }); break;
            default: snacky.show(demoMessages[type], { type: type });
        }
    }
    </script>
</body>
    </html>
